<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <img id="img01" src="../学习JavaScript/img/6.jpg" alt="">
    <br><br>
    <button id="btn1">开始</button>
    <button id="btn2">停止</button>
    <script>
        // 使图片可以自动切换

        // 获取img标签
        var img01 = document.getElementById("img01");
        // 创建一个数组来保存图片的路径
        var imgArr = ["img/6.jpg", "img/8.jpg", "img/9.jpg"];
        // 创建一个变量，用来保存当前图片的索引
        var index = 0;
        // 定义一个变量，用来保存定时器的标识
        var times;

        // 为btn01绑定一个单击响应函数
        var btn1 = document.getElementById("btn1");
        btn1.onclick = function() {
            // 目前我们每点击一次按钮，就会开启一个定时器
            // 点击多次就会开启多个定时器,这会就导致图片切换速度过快
            // 并且我们只能关闭最后一次开启的定时器

            // 在开启定时器之前，需要将当前元素上的其他元素定时器关闭
            clearInterval(times);


            // 开启一个定时器，来自动切换图片
            times = setInterval(function() {
                // 使我们索引自增
                index++;
                // 判断索引是否超过最大索引
                // if (index >= imgArr.length) {
                //     index = 0;
                // }

                index %= imgArr.length;

                // 修改img01的src属性
                img01.src = imgArr[index];
            }, 1000);
        };

        // 为我们的btn02绑定一个单击响应函数
        var btn2 = document.getElementById("btn2");
        btn2.onclick = function() {
            // clearInterval()可以接收任意参数，
            // 如果参数是一个有效的定时器的标识，则停止对应的定时器
            // 如果参数不是一个有效的标识，则什么也不做
            clearInterval(times);
        };
    </script>
</body>


</html>